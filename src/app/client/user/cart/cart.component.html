<div class="container">
  <div class="cart-container">
    <div class="block main-block">
      <span class="main-block-text">
<!--  <h2>-->
    Корзина ({{cart.allItems}})
      </span>
      <div>
        <input type="checkbox" class="andro-checkbox" id="select-all-checkbox" [(ngModel)]="allChecked"
               (change)="changeAllChecked($event)">
        <label class="andro-label" for="select-all-checkbox">Вибрати всі</label>
      </div>
    </div>

    <div class="block cart-block" *ngFor="let position of cart.positions">

      <div class="shop-container">
        <input type="checkbox" class="andro-checkbox" [id]="position.sellerName" [(ngModel)]="position.sellerCheck"
               (change)="selectAllSellerItems($event, position.sellerId)">
        <label class="andro-label seller-check-label" [for]="position.sellerName">{{position.sellerName}}</label>
        <!--        <a href="">{{position.sellerName}}</a>-->
      </div>
      <div class="goods-container" *ngFor="let item of position.items">
        <div class="goods-select">
          <input type="checkbox" class="andro-checkbox" [id]="item.advertisementId" [(ngModel)]="item.checked"
                 (change)="changeItemCheck($event, item.sellerId)">
          <label class="andro-label seller-check-label" [for]="item.advertisementId"></label>
        </div>
        <div class="goods-image">
          <img [src]="getImage(item.image,item.sellerId)" alt="">
        </div>
        <div class="goods-main">
          <div class="goods-title">
            <span>{{item.title}}</span>
            <div style="font-size: 10px">id: {{item.advertisementId}}</div>
          </div>
          <div class="goods-price">
            <span>$ {{item.priceCountResponse.price.toFixed(2)}}</span>
          </div>
<!--          <div class="goods-params" *ngIf="item.priceCountResponse.values.size > 0">-->
          <div class="goods-params">
              <div *ngFor="let paramValue of item.priceCountResponse.values | keyvalue" class="param-block">
                <span class="param-name">{{paramValue.key}}</span>: <span class="param-value">{{paramValue.value}}</span>
              </div>
          </div>
          <div class="goods-delivery">
            <span class="delivery-text"><span class="delivery-label">Доставка: </span>{{item.deliveryType.title}}</span>
            <!--            <i class="fas fa-angle-right"></i>-->
          </div>
        </div>
        <div class="goods-actions">
          <div class="other-actions" >
            <div class="delete-item-button" (click)="deleteCartItem(item.id)">
              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                   width="24" height="24"
                   viewBox="0 0 24 24"
                   style=" fill:#000000;">
                <path
                  d="M 10 2 L 9 3 L 4 3 L 4 5 L 5 5 L 5 20 C 5 20.522222 5.1913289 21.05461 5.5683594 21.431641 C 5.9453899 21.808671 6.4777778 22 7 22 L 17 22 C 17.522222 22 18.05461 21.808671 18.431641 21.431641 C 18.808671 21.05461 19 20.522222 19 20 L 19 5 L 20 5 L 20 3 L 15 3 L 14 2 L 10 2 z M 7 5 L 17 5 L 17 20 L 7 20 L 7 5 z M 9 7 L 9 18 L 11 18 L 11 7 L 9 7 z M 13 7 L 13 18 L 15 18 L 15 7 L 13 7 z"></path>
              </svg>
            </div>
          </div>
          <div class="count-actions">
            <button [disabled]="item.count <= 1" class="count-button" (click)="clickMinusCountButton(item)">-</button>
            <input type="number" class="item-count-input" min="1" [value]="item.count"
                   (keyup)="inputCartItemCount($event, item)">
            <button [disabled]="item.count >= item.priceCountResponse.count" (click)="clickPlusCountButton(item)" class="count-button">+</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="order-container block">
    <span class="order-container-title">Сума замовлення</span>

    <div class="price-container">
      <div class="price-label price-text">Вартість</div>
      <div class="price-value price-text">$ {{allPrice.toFixed(2)}}</div>
    </div>

    <div class="order-divider"></div>
    <div class="order-button-container">
      <button class="order-button andro-button" (click)="orderButtonClick()">Купити ({{allItems}})</button>
    </div>
<!--    <button (click)="getCartPrice()"> Test</button>-->
  </div>
</div>

